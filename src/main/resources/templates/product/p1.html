<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:include="navbar.html :: head">
    <title id="title">User registration</title>
</head>
<body th:include="navbar.html :: body">
<div id="body">
    <div class="container">
        <!--/*@thymesVar id="productPage" type="org.springframework.data.domain.Page"*/-->
        <!--/*@thymesVar id="product" type="com.struninproject.onlinestore.model.Product"*/-->
        <div class="row">
            <div class="col-lg-4 col-sm-6 mb-3"
                 th:each="product, iStat : ${productPage.content}">
                <div class="product-card">
                    <div class="product-thumb">
                        <img th:src="${(product.getImage() != null && !#strings.isEmpty(product.getImage())) ? product.getImage() : 'https://i.ibb.co/nQKknXZ/image-not-found.jpg'}"
                             src="" alt="" id="output"
                             style="width: 100%; height: 15vw; object-fit: contain;">
                    </div>
                    <div class="product-details">
                        <h4><a href="#"><span
                                th:text="${product.getName()}"></span></a></h4>
                        <span th:text="${product.getDescription()}"></span>
                        <div class="product-bottom-details d-flex justify-content-between">
                            <div class="product-price">
                                <small><span
                                        th:text="${product.getPrice()}?${'$'+product.getPrice()*11/10}"></span></small><span
                                    th:text="${product.getPrice()}?${'$'+product.getPrice()}"></span>
                            </div>
                            <div class="product-links">
                                <a sec:authorize="isAuthenticated()" href="#"><i
                                        onclick="addCart(this.id)"
                                        th:id="${product.getId()}"
                                        class="fas fa-shopping-cart"></i></a>
                                <a sec:authorize="!isAuthenticated()" href="#" data-bs-toggle="modal"
                                   data-bs-target="#exampleModal" ><i class="fas fa-shopping-cart"></i></a>
                                <a href="#"><i class="far fa-heart"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <nav aria-label="...">
            <ul class="pagination">
                <!--/*@thymesVar id="pageNumbers" type="java.util.List"*/-->
                <li class="page-item"
                    th:if="${productPage.totalPages > 0}"
                    th:each="pageNumber : ${pageNumbers}">
                    <!--/*@thymesVar id="pageNumber" type="java.lang.Integer"*/-->
                    <a th:href="@{/product/p1(size=${productPage.size}, page=${pageNumber})}"
                       th:text="${pageNumber}"
                       th:class="${pageNumber==productPage.number + 1} ? 'active page-link':'page-link'"></a>
                </li>
            </ul>
        </nav>
        <label>
            <input th:field="*{productPage.size}">
        </label>
    </div>
</div>
</body>
</html>