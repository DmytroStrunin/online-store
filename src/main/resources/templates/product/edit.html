<!DOCTYPE html>
<html lang="en">
<head th:include="navbar.html :: head">
    <title id="title">Edit product</title>
</head>
<body th:include="navbar.html :: body">
<div id="body">

<!--/*@thymesVar id="product" type="com.struninproject.onlinestore.model.Product"*/-->
<form th:method="PATCH" th:action="@{/product/{id}(id=${product.getId()})}"
      th:object="${product}">
    <div class="form-group">
        <label for="name">Name</label>
        <input class="form-control" type="text" th:field="*{name}" id="name"
               placeholder="name">
        <!--    <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>-->
    </div>
    <div class="form-group">
        <!--/*@thymesVar id="price" type="java.math.BigDecimal"*/-->
        <label for="price">Price</label>
        <input class="form-control" type="text" th:field="*{price}" id="price"
               placeholder="price">
        <!--    <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>-->
    </div>
    <div class="form-group">
        <!--/*@thymesVar id="image" type="java.lang.String"*/-->
        <label for="image">Image</label>
        <input class="form-control" type="text" th:field="*{image}" id="image"
               placeholder="image">
        <!--    <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>-->
    </div>
    <div class="form-group">
        <!--/*@thymesVar id="description" type="java.lang.String"*/-->
        <label for="description">Description</label>
        <input class="form-control" type="text" th:field="*{description}"
               id="description"
               placeholder="description">
        <!--    <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>-->
    </div>
    <div class="form-group">
        <!--/*@thymesVar id="manufacturers" type="java.lang.Iterable"*/-->
        <!--/*@thymesVar id="manufacturer" type="com.struninproject.onlinestore.model.Manufacturer"*/-->
        <label for="manufacturer">Manufacturer</label>
        <select class="form-control" th:field="*{manufacturer}"
                id="manufacturer">
            <option th:each="manufacturer : ${manufacturers}"
                    th:value="${manufacturer.getId()}"
                    th:text="${manufacturer.getName()}"></option>
        </select>
        <!--    <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>-->
    </div>
    <div id="out" class="form-group">
        <!--/*@thymesVar id="categories" type="java.lang.Iterable"*/-->
        <!--/*@thymesVar id="category" type="com.struninproject.onlinestore.model.Category"*/-->
        <label for="category">Category: <b th:text="*{category.getName()}"></b></label>
        <input type="hidden" class="form-control" th:field="*{category}"
               id="category" placeholder="category">
        <!--    <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>-->
    </div>
    <div class="form-group">
        <table class="table table-striped table-dark  w-auto">
            <tr th:each="spec : *{specifications}">
                <td th:text="${spec.key}">
                    :<input type="hidden" name="value" th:value="${spec.key}"
                           readonly="true"/>
                </td>
                <td><input class="form-control" type="text" name="value"
                           th:field="*{specifications[__${spec.key}__]}"/></td>
            </tr>
        </table>
    </div>
    <br>
    <input type="submit" class="btn btn-primary" value="Edit Product">
</form>

</div>
</body>
</html>